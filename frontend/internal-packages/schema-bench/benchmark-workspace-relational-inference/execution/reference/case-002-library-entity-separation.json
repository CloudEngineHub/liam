{
  "tables": {
    "book_titles": {
      "name": "book_titles",
      "columns": {
        "id": { "name": "id", "type": "INT", "default": null, "check": null, "notNull": true, "comment": "Surrogate key" },
        "isbn": { "name": "isbn", "type": "VARCHAR(20)", "default": null, "check": null, "notNull": true, "comment": "International Standard Book Number" },
        "title": { "name": "title", "type": "VARCHAR(255)", "default": null, "check": null, "notNull": true, "comment": "Title of the book" },
        "author": { "name": "author", "type": "VARCHAR(255)", "default": null, "check": null, "notNull": true, "comment": "Primary author" }
      },
      "comment": "Logical works (bibliographic records)",
      "indexes": {},
      "constraints": {
        "pk_book_titles": { "type": "PRIMARY KEY", "name": "pk_book_titles", "columnNames": ["id"] },
        "uq_book_titles_isbn": { "type": "UNIQUE", "name": "uq_book_titles_isbn", "columnNames": ["isbn"] }
      }
    },
    "book_copies": {
      "name": "book_copies",
      "columns": {
        "id": { "name": "id", "type": "INT", "default": null, "check": null, "notNull": true, "comment": "Physical copy ID" },
        "book_title_id": { "name": "book_title_id", "type": "INT", "default": null, "check": null, "notNull": true, "comment": "FK to book_titles.id" },
        "barcode": { "name": "barcode", "type": "VARCHAR(50)", "default": null, "check": null, "notNull": true, "comment": "Library barcode" },
        "status": { "name": "status", "type": "VARCHAR(20)", "default": null, "check": null, "notNull": true, "comment": "Copy status" }
      },
      "comment": "Physical copies of books",
      "indexes": {},
      "constraints": {
        "pk_book_copies": { "type": "PRIMARY KEY", "name": "pk_book_copies", "columnNames": ["id"] },
        "fk_book_copies_title": {
          "type": "FOREIGN KEY",
          "name": "fk_book_copies_title",
          "columnNames": ["book_title_id"],
          "targetTableName": "book_titles",
          "targetColumnNames": ["id"],
          "updateConstraint": "CASCADE",
          "deleteConstraint": "RESTRICT"
        }
      }
    }
  },
  "enums": {},
  "extensions": {}
}

